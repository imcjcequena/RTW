(this.webpackJsonpcheckpointapp=this.webpackJsonpcheckpointapp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),r=a.n(i),o=(a(16),a(2)),c=a(3),l=a(1),u=a(5),h=a(4),d=a(10),p=a(6),m=a.n(p),v=a(7),f={dataCacheName:"kd-datacache",ajax:function(){var e=Object(v.a)(m.a.mark((function e(t){var a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var s=new XMLHttpRequest;if(s.responseType=t.responseType||"json",s.onload=function(){s.readyState===XMLHttpRequest.DONE&&(s.status>=200&&s.status<300?e(s.response):n(Error(s.statusText)))},s.onerror=function(){n(Error("Network error."))},"undefined"===typeof t.processData||!0===t.processData){var i=a.toQueryString(t.data);s.open(t.method||"GET",t.url+"?"+i,!0),t.headers&&Object.keys(t.headers).forEach((function(e){s.setRequestHeader(e,t.headers[e])})),s.send()}else s.open(t.method||"GET",t.url,!0),t.headers&&Object.keys(t.headers).forEach((function(e){s.setRequestHeader(e,t.headers[e])})),s.send(JSON.stringify(t.data))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),clone:function(e){return JSON.parse(JSON.stringify(e))},describeArc:function(e,t,a,n,s){var i=this.polarToCartesian(e,t,a,s),r=this.polarToCartesian(e,t,a,n),o=s-n<=180?"0":"1";return["M",i.x,i.y,"A",a,a,0,o,0,r.x,r.y].join(" ")},fetch:function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,s,i,r,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]&&o[1],n=o.length>2&&void 0!==o[2]?o[2]:6e4,s=btoa(JSON.stringify(t)),i=JSON.parse(localStorage.getItem(this.dataCacheName)||"{}"),r=i[s],!(a||!r||(new Date).getTime()>r.kdValidUntil)){e.next=10;break}return e.next=8,this.ajax(t);case 8:(r=e.sent)instanceof Error||(r.kdValidUntil=(new Date).getTime()+n,i[s]=r,localStorage.setItem(this.dataCacheName,JSON.stringify(i)));case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),getFirst:function(e,t,a){for(var n=0;n<e.length;n++)if(e[n][t]===a)return e[n];return null},getOS:function(){var e=navigator.userAgent||navigator.vendor||window.opera;if(e.match(/Windows/i)){var t="windows";return e.match(/Windows Phone 10/i)?t+=" win10 mobile":e.match(/Windows NT 10/i)?t+=" win10":e.match(/Windows Phone/i)?t+=" mobile":t+=" desktop",t}return e.match(/iPad/i)||e.match(/iPhone/i)||e.match(/iPod/i)?"ios mobile":e.match(/Macintosh/i)?"macintosh desktop":e.match(/Android/i)?"android mobile":"unknown"},lZero:function(e){return(parseInt(e)<10?"0":"")+e},polarToCartesian:function(e,t,a,n){var s=(n-90)*Math.PI/180;return{x:e+a*Math.cos(s),y:t+a*Math.sin(s)}},toQueryString:function(e){return null===e||"undefined"===typeof e?"":Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}},g=(a(18),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"kd-xbutton",onClick:this.props.onClick})}}]),a}(n.Component)),b=(a(19),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).duration=n.props.duration||5e3,n.endDuration=500,n.toasts=[],n.lastId=0,n.dismissToast=n.dismissToast.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=(new Date).getTime(),a=this.props.toasts.map((function(a){return a.start=t,a.id=e.lastId++,a.ref=s.a.createRef(),a}));return this.toasts=Object(d.a)(this.toasts.concat(a)),setTimeout((function(){for(var e=0;e<a.length;e++)a[e].ref.current.classList.add("tb-show")}),1),setTimeout(this.pruneToasts.bind(this),this.duration+1),s.a.createElement("div",{className:"kd-toastbox"+("bottom"===this.props.position?" tb-bottom":"")},s.a.createElement("ul",null,this.toasts.map((function(t,a){return s.a.createElement("li",{key:t.id,toastid:t.id,className:"tb-toast"+(t.className?" "+t.className:""),ref:t.ref},t.content,s.a.createElement(g,{onClick:e.dismissToast}))}))))}},{key:"hideToast",value:function(e){e.ref.current.classList.add("tb-remove"),e.end=(new Date).getTime()+this.endDuration}},{key:"dismissToast",value:function(e){var t=e.currentTarget.parentElement.getAttribute("toastid");this.hideToast(f.getFirst(this.toasts,"id",parseInt(t)))}},{key:"pruneToasts",value:function(){for(var e=(new Date).getTime(),t=this.toasts.length-1;t>=0;t--)e-this.toasts[t].end>=this.endDuration?this.toasts.splice(t,1):e-this.toasts[t].start>=this.duration&&this.hideToast(this.toasts[t])}}]),a}(n.PureComponent));function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var y=s.a.createElement("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",transform:"scale(0.7, 0.7)"},s.a.createElement("path",{className:"bn-icon",d:"M45.0889927,6.18226401 L49.9997591,6.18226401 L49.9997591,28.771856 L45.0889927,28.771856 C38.8336771,28.771856 33.8014353,23.7855419 33.8014353,17.4638309 C33.8014353,11.1677461 38.8336771,6.18226401 45.0889927,6.18226401 Z M25.0220946,21.1308892 L32.9719083,34.9276617 L17.0278508,34.9276617 L25.0220946,21.1308892 Z M25.0220946,13.7969389 L17.0278508,-2.48689958e-14 L32.9719083,-2.48689958e-14 L25.0220946,13.7969389 Z M4.91093281,28.771856 L-1.0658141e-14,28.771856 L-1.0658141e-14,6.18226401 L4.91093281,6.18226401 C11.166082,6.18226401 16.1983238,11.1677461 16.1983238,17.4638309 C16.1983238,23.7855419 11.166082,28.771856 4.91093281,28.771856 Z",id:"path5899",fill:"#FFFFFF",fillRule:"nonzero",transform:"translate(24.999880, 17.463831) scale(-0.8, 0.8) rotate(-180.000000) translate(-24.999880, -17.463831) "}),s.a.createElement("path",{className:"bn-text",d:"M63.2447339,14.8875547 L67.9802763,14.8875547 C72.2854963,14.8875547 74.6892109,18.0430853 74.6892109,21.3418903 C74.6892109,24.6405288 72.2675246,27.7960594 67.9802763,27.7960594 L63.2447339,27.7960594 L63.2447339,14.8875547 Z M67.8368355,25.1785149 C70.2225784,25.1785149 71.5859313,23.3139513 71.5859313,21.3418903 C71.5859313,19.3876345 70.2225784,17.5052656 67.8368355,17.5052656 L66.2762931,17.5052656 L66.2762931,25.1785149 L67.8368355,25.1785149 Z M83.245403,14.8875547 L86.797143,14.8875547 L82.6175585,21.3776672 L86.7611996,27.7960594 L83.2813464,27.7960594 L80.7162194,23.5469177 L78.1153154,27.7960594 L74.5815471,27.7960594 L78.74316,21.3776672 L74.5456037,14.8875547 L78.0076516,14.8875547 L80.644499,19.1904451 L83.245403,14.8875547 Z M93.3085553,14.6544218 C97.0217078,14.6544218 99.0486823,16.8777538 99.443394,19.7102931 L96.3760579,19.7102931 C96.0888435,18.3657438 94.9767615,17.3616584 93.3802757,17.3616584 C91.0664196,17.3616584 89.8644792,19.2084168 89.8644792,21.3418903 C89.8644792,23.4751973 91.0664196,25.3219557 93.3802757,25.3219557 C94.9767615,25.3219557 96.0888435,24.3178703 96.3760579,22.973321 L99.443394,22.973321 C99.0486823,25.8060267 97.0217078,28.0291923 93.3085553,28.0291923 C89.1649142,28.0291923 86.7611996,24.8736617 86.7611996,21.3418903 C86.7611996,17.8099524 89.1649142,14.6544218 93.3085553,14.6544218 Z M100.465784,16.5907059 C100.465784,15.5688152 101.290984,14.7261422 102.330181,14.7261422 C103.388514,14.7261422 104.195743,15.5688152 104.195743,16.5907059 C104.195743,17.6125966 103.388514,18.4552695 102.330181,18.4552695 C101.290984,18.4552695 100.465784,17.6125966 100.465784,16.5907059 Z M104.429043,24.1566242 L104.429043,21.8617382 L105.881921,21.8617382 L105.881921,18.096834 C105.881921,15.5510099 107.101667,14.7441139 109.308026,14.7441139 C110.115254,14.7441139 110.725127,14.8158343 111.137644,14.8875547 L111.137644,17.2361893 C110.779042,17.1824407 110.24089,17.1285256 109.971814,17.1285256 C109.218334,17.1285256 108.805817,17.3796301 108.805817,18.3118287 L108.805817,21.8617382 L110.922483,21.8617382 L110.922483,24.1566242 L108.805817,24.1566242 L108.805817,26.8996378 L105.881921,26.8996378 L105.881921,24.1566242 L104.429043,24.1566242 Z M121.416124,17.7022887 L118.63567,17.7022887 C118.330816,17.1464973 117.792664,16.7521183 116.877771,16.7521183 C115.550528,16.7521183 114.88674,17.5947913 114.832991,18.7601228 L121.577703,18.7601228 C121.631285,19.1904451 121.649257,19.5131036 121.649257,19.8539002 C121.649257,22.3098659 119.945107,24.4075624 116.877771,24.4075624 C113.720743,24.4075624 111.998788,22.2025349 111.998788,19.5131036 C111.998788,16.8418104 113.738715,14.6364501 116.913715,14.6364501 C119.442898,14.6364501 120.949858,15.9811658 121.416124,17.7022887 Z M116.841994,22.3278376 C117.954243,22.3278376 118.671613,21.6287718 118.779277,20.5349943 L114.850963,20.5349943 C114.958627,21.6645488 115.747718,22.3278376 116.841994,22.3278376 Z M132.376197,20.588743 C132.017429,22.7403546 130.420943,24.4075624 127.622517,24.4075624 C124.483627,24.4075624 122.582121,22.1665915 122.582121,19.5131036 C122.582121,16.8777538 124.483627,14.6364501 127.622517,14.6364501 C130.420943,14.6364501 132.017429,16.3039907 132.376197,18.4552695 L129.43433,18.4552695 C129.183226,17.64854 128.555381,17.1107203 127.640489,17.1107203 C126.349022,17.1107203 125.523988,18.2043314 125.523988,19.5131036 C125.523988,20.8218759 126.349022,21.9334586 127.640489,21.9334586 C128.555381,21.9334586 129.16542,21.3956389 129.416359,20.588743 L132.376197,20.588743 Z M133.685635,14.8875547 L136.609531,14.8875547 L136.609531,19.7282648 C136.609531,21.037037 137.219403,21.8797099 138.403206,21.8797099 C139.658895,21.8797099 140.053607,21.1087574 140.053607,19.9971746 L140.053607,14.8875547 L142.977336,14.8875547 L142.977336,20.2123358 C142.977336,22.8298803 141.82931,24.3897571 139.479511,24.3897571 C138.116324,24.3897571 137.129711,23.7800506 136.609531,22.812075 L136.609531,28.3338791 L133.685635,28.3338791 L133.685635,14.8875547 Z M144.825092,14.8875547 L147.748821,14.8875547 L147.748821,19.7282648 C147.748821,21.037037 148.358861,21.8797099 149.542663,21.8797099 C150.798352,21.8797099 151.192898,21.1087574 151.192898,19.9971746 L151.192898,14.8875547 L154.116959,14.8875547 L154.116959,20.2123358 C154.116959,22.8298803 152.968768,24.3897571 150.618968,24.3897571 C149.23781,24.3897571 148.233225,23.7800506 147.713044,22.812075 L147.713044,24.1566242 L144.825092,24.1566242 L144.825092,14.8875547 Z M160.6104,14.6364501 C163.839149,14.6364501 165.758626,16.8777538 165.758626,19.5131036 C165.758626,22.1665915 163.839149,24.4075624 160.6104,24.4075624 C157.417428,24.4075624 155.480146,22.1665915 155.480146,19.5131036 C155.480146,16.8777538 157.417428,14.6364501 160.6104,14.6364501 Z M160.6104,17.164469 C159.28299,17.164469 158.421847,18.2221367 158.421847,19.5131036 C158.421847,20.8039042 159.28299,21.8797099 160.6104,21.8797099 C161.93781,21.8797099 162.816759,20.8039042 162.816759,19.5131036 C162.816759,18.2221367 161.93781,17.164469 160.6104,17.164469 Z M167.175561,14.8875547 L170.099456,14.8875547 L170.099456,28.3338791 L168.637592,28.3338791 L167.175561,28.3338791 L167.175561,14.8875547 Z M176.646812,14.6364501 C179.875727,14.6364501 181.795038,16.8777538 181.795038,19.5131036 C181.795038,22.1665915 179.875727,24.4075624 176.646812,24.4075624 C173.454007,24.4075624 171.516558,22.1665915 171.516558,19.5131036 C171.516558,16.8777538 173.454007,14.6364501 176.646812,14.6364501 Z M176.646812,17.164469 C175.319569,17.164469 174.458425,18.2221367 174.458425,19.5131036 C174.458425,20.8039042 175.319569,21.8797099 176.646812,21.8797099 C177.974222,21.8797099 178.853337,20.8039042 178.853337,19.5131036 C178.853337,18.2221367 177.974222,17.164469 176.646812,17.164469 Z M193.042159,14.7081705 L193.042159,24.1566242 L190.154207,24.1566242 L190.154207,22.7941033 C189.615888,23.7800506 188.414114,24.3897571 187.230312,24.3897571 C184.521577,24.3897571 182.727736,22.2918942 182.727736,19.5131036 C182.727736,16.7521183 184.593298,14.7978626 187.265922,14.7978626 C188.467863,14.7978626 189.615888,15.3895974 190.118264,16.2322703 L190.118264,14.6364501 C190.118264,13.3098726 189.418699,12.5748635 188.019402,12.5748635 C186.781685,12.5748635 186.100092,13.1484601 185.974622,13.9912995 L183.068699,13.9912995 C183.229945,11.92938 184.862374,10.4593617 187.947682,10.4593617 C191.373953,10.4593617 193.042159,12.0011004 193.042159,14.7081705 Z M187.85799,17.164469 C186.566524,17.164469 185.669603,18.2401084 185.669603,19.5131036 C185.669603,20.7860989 186.566524,21.8797099 187.85799,21.8797099 C189.203371,21.8797099 190.100292,20.7860989 190.100292,19.5131036 C190.100292,18.2401084 189.203371,17.164469 187.85799,17.164469 Z M200.413384,13.5250338 L204.646717,24.1386525 L201.63313,24.1386525 L199.498658,18.4374642 L197.184635,24.1566242 L193.991664,24.1566242 L197.973892,14.8517777 L197.740593,14.2780146 C197.364019,13.3637877 196.897587,13.0767398 196.162245,13.0767398 C195.928946,13.0767398 195.498457,13.1306548 195.193438,13.1844035 L195.193438,10.7281051 C195.534401,10.6743564 195.946918,10.6385794 196.467099,10.6385794 C198.673457,10.6385794 199.642099,11.5709445 200.413384,13.5250338 Z",id:"path5901",fill:"#FFFFFF",fillRule:"nonzero",transform:"translate(142.945726, 19.396620) scale(-1.2, 1.2) rotate(-180.000000) translate(-133.945726, -19.396620) "})),E=function(e){var t=e.svgRef,a=e.title,n=C(e,["svgRef","title"]);return s.a.createElement("svg",k({height:"32px",width:"185px",className:"bn-logo",viewBox:"0 0 185 32",ref:t},n),a?s.a.createElement("title",null,a):null,y)},S=s.a.forwardRef((function(e,t){return s.a.createElement(E,k({svgRef:t},e))})),L=(a.p,a(20),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.color||"rgb(255,255,255)";if("arc"===this.props.type)return s.a.createElement("svg",{className:"kd-spinner sp-spin"+(this.props.className?" "+this.props.className:""),viewBox:"0 0 100 100"},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"kd-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},s.a.createElement("stop",{offset:"0%",style:{stopColor:e,stopOpacity:0}}),s.a.createElement("stop",{offset:"100%",style:{stopColor:e,stopOpacity:1}}))),s.a.createElement("path",{fill:"none",stroke:"url(#kd-gradient)",strokeWidth:"16",d:f.describeArc(50,50,42,0,45)}),s.a.createElement("path",{fill:"none",stroke:e,strokeWidth:"16",d:f.describeArc(50,50,42,45,150)}));if("bars"===this.props.type)return s.a.createElement("div",{className:"kd-spinner sp-bars"+(this.props.className?" "+this.props.className:"")},s.a.createElement("div",{className:"sp-bar-left",style:{color:e,background:e}}),s.a.createElement("div",{className:"sp-bar-center",style:{color:e,background:e}}),s.a.createElement("div",{className:"sp-bar-right",style:{color:e,background:e}}));var t=this.props.style||{};return t.color=e,s.a.createElement("div",{className:"kd-spinner sp-spin"+(this.props.className?" "+this.props.className:""),style:t},this.props.children)}}]),a}(n.Component)),N=(a(21),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"kd-banner"},s.a.createElement(S,null),s.a.createElement("div",{className:"bn-title"},"Access Checkpoint"),this.props.busy>0&&s.a.createElement(L,{type:"bars",color:"#aaa"}),s.a.createElement("div",{className:"icon icon-location-black bn-settings"+(this.props.active?" active":""),onClick:this.props.onOpenSettings}))}}]),a}(n.Component)),O=(a(22),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"kd-button"+(this.props.className?" "+this.props.className:""),disabled:this.props.disabled,onClick:this.handleClick},this.props.value||this.props.children)}},{key:"handleClick",value:function(e){!this.props.disabled&&this.props.onClick&&this.props.onClick(e)}}]),a}(n.Component)),w=(a(23),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"kd-qroverlay"},s.a.createElement("div",{className:"qo-target"},s.a.createElement("div",{className:"qo-ul"}),s.a.createElement("div",{className:"qo-ur"}),s.a.createElement("div",{className:"qo-ll"}),s.a.createElement("div",{className:"qo-lr"})),s.a.createElement("div",{className:"kd-buttons"},s.a.createElement("div",{className:"qo-instructions"},this.props.instructions),s.a.createElement("br",null),s.a.createElement(O,{className:"primary qo-cancel",value:"Cancel Scan",onClick:this.props.onCancel})))}}]),a}(n.Component)),R=(a(24),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:n.props.initValue||.5,barWidth:0},n.barRef=s.a.createRef(),n.knobRef=s.a.createRef(),n.handleMouseDown=n.handleMouseDown.bind(Object(l.a)(n)),n.handleMouseMove=n.handleMouseMove.bind(Object(l.a)(n)),n.handleMouseUp=n.handleMouseUp.bind(Object(l.a)(n)),n.handleTouchStart=n.handleTouchStart.bind(Object(l.a)(n)),n.handleTouchMove=n.handleTouchMove.bind(Object(l.a)(n)),n.handleResize=n.handleResize.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e={};if(this.state.barWidth){var t=this.state.barWidth-this.knobWidth;e={left:this.state.value*t+"px"}}return s.a.createElement("div",{className:"kd-slider"},s.a.createElement("div",{className:"sl-bar noselect",ref:this.barRef},s.a.createElement("div",{className:"sl-knob noselect",ref:this.knobRef,style:e,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onMouseDown:this.handleMouseDown})),s.a.createElement("div",{className:"sl-decrease noselect"}),s.a.createElement("div",{className:"sl-increase noselect"}))}},{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("mousemove",this.handleMouseMove)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.initValue!==e.initValue&&this.setState({value:e.initValue}),!0}},{key:"handleResize",value:function(){this.knobWidth=this.knobRef.current.offsetWidth,this.setState({barWidth:this.barRef.current.offsetWidth})}},{key:"handleMouseDown",value:function(e){this.touch||(this.dragging=!0,this.oldValue=this.state.value,this.startX=e.clientX)}},{key:"handleMouseMove",value:function(e){!this.touch&&this.dragging&&this.handleTouchMove({touches:[{clientX:e.clientX}]})}},{key:"handleMouseUp",value:function(){this.dragging=!1}},{key:"handleTouchStart",value:function(e){this.touch=!0,this.oldValue=this.state.value,this.startX=e.touches[0].clientX}},{key:"handleTouchMove",value:function(e){var t=this,a=e.touches[0].clientX-this.startX,n=this.state.barWidth-this.knobWidth,s=Math.max(Math.min(this.oldValue+a/n,1),0),i=s!==this.state.value;this.setState({value:s},(function(){i&&t.props.onChange&&t.props.onChange(s)}))}}]),a}(n.Component)),j={qrDataToJSON:function(e){var t=e||"";"object"===typeof t&&(t=t.result||""),t=t.split(", ");var a={};return t.forEach((function(e){var t=e.split(": ");a[t[0]]=t[1]})),a}},M=(a(25),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).minTemp=35,n.maxTemp=40,n.tempRange=n.maxTemp-n.minTemp,n.minSpo2=85,n.maxSpo2=105,n.spo2Range=n.maxSpo2-n.minSpo2,n.state={scanning:!1,qrData:null,temp:(n.tempRange/2+n.minTemp).toFixed(1),spo2:Math.round(n.spo2Range/2+n.minSpo2),bioResult:"",bioMessage:"",qrResult:"",result:"",resultMsg:"Access Pending"},n.scanQRPass=n.scanQRPass.bind(Object(l.a)(n)),n.cancelScan=n.cancelScan.bind(Object(l.a)(n)),n.handleTempChange=n.handleTempChange.bind(Object(l.a)(n)),n.handleSpo2Change=n.handleSpo2Change.bind(Object(l.a)(n)),n.checkBiometrics=n.checkBiometrics.bind(Object(l.a)(n)),n.validateQRPass=n.validateQRPass.bind(Object(l.a)(n)),n.updateResults=n.updateResults.bind(Object(l.a)(n)),n.resetState=n.resetState.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(!this.state.scanning){var t=Object.getOwnPropertyNames(this.state.qrData||{}).map((function(t,a){return s.a.createElement("div",{key:a,className:"gk-qritem"},s.a.createElement("div",{className:"gk-fieldname"},t),s.a.createElement("div",{className:"gk-fieldvalue"},e.state.qrData[t]))})),a=(parseFloat(this.state.temp)-this.minTemp)/this.tempRange,n=(parseFloat(this.state.spo2)-this.minSpo2)/this.spo2Range;return s.a.createElement("div",{className:"kd-gatekeeping app-page"},s.a.createElement("div",{className:"gk-workflow"},s.a.createElement("div",{className:"gk-section"},s.a.createElement("div",{className:"gk-step"+(this.state.qrData?" gk-done":"")},"1"),s.a.createElement("div",{className:"gk-title"},"QR Pass Info")),s.a.createElement("div",{className:"gk-section"},s.a.createElement("div",{className:"gk-line"+(this.state.qrData?" gk-done":"")}),s.a.createElement("div",{className:"gk-body"},s.a.createElement("div",{className:"gk-qritems"},t),s.a.createElement(O,{value:this.state.qrData?"Rescan QR Pass":"Scan QR Pass",onClick:this.scanQRPass}))),s.a.createElement("div",{className:"gk-section"},s.a.createElement("div",{className:"gk-step"+(this.state.bioResult?" gk-done":"")},"2"),s.a.createElement("div",{className:"gk-title"},"Physical Check")),s.a.createElement("div",{className:"gk-section"},s.a.createElement("div",{className:"gk-line"+(this.state.bioResult?" gk-done":"")}),s.a.createElement("div",{className:"gk-body"},s.a.createElement("div",{className:"gk-slider-container"},s.a.createElement("div",{className:"gk-slider-label"},"Body Temperature"),s.a.createElement("div",{className:"gk-slider-value-tile"},s.a.createElement("div",{className:"gk-slider-value"},this.state.temp),s.a.createElement("label",{className:"gk-slider-unit"},"\xb0C")),s.a.createElement(R,{onChange:this.handleTempChange,initValue:a})),s.a.createElement("div",{className:"gk-slider-container"},s.a.createElement("div",{className:"gk-slider-label"},"Oxygen Levels (SpO2)"),s.a.createElement("div",{className:"gk-slider-value-tile"},s.a.createElement("div",{className:"gk-slider-value"},this.state.spo2),s.a.createElement("label",{className:"gk-slider-unit"},"%")),s.a.createElement(R,{onChange:this.handleSpo2Change,initValue:n})),s.a.createElement(O,{value:"Evaluate Readings",onClick:this.checkBiometrics}),this.state.bioMessage&&s.a.createElement("div",{className:"gk-findings-container"},s.a.createElement("div",{className:"gk-findings-label"},"Findings"),s.a.createElement("div",{className:"gk-findings"},this.state.bioMessage)))),s.a.createElement("div",{className:"gk-section"},s.a.createElement("div",{className:"gk-step"+(this.state.result?" gk-done":"")},"3"),s.a.createElement("div",{className:"gk-title"},"Checkpoint Results")),s.a.createElement("div",{className:"gk-section"},s.a.createElement("div",{className:"gk-empty"}),s.a.createElement("div",{className:"gk-body"},s.a.createElement("div",{className:"gk-final-result"+(this.state.result?" gk-"+this.state.result:"")},this.state.resultMsg),this.state.result&&s.a.createElement(O,{className:"primary",value:"Check Next Person",onClick:this.resetState})))))}return s.a.createElement(w,{instructions:"Please scan the person's DXC QR Pass.",onCancel:this.cancelScan})}},{key:"resetState",value:function(){this.setState({scanning:!1,qrData:null,temp:(this.tempRange/2+this.minTemp).toFixed(1),spo2:Math.round(this.spo2Range/2+this.minSpo2),bioResult:"",bioMessage:"",qrResult:"",result:"",resultMsg:"Access Pending"})}},{key:"checkBiometrics",value:function(){var e=this,t={applicant:{country:"Singapore",location:"DIL",bodyTemp:parseFloat(this.state.temp),spo:parseFloat(this.state.spo2),request:"CheckpointAccess"}};this.props.onBusy&&this.props.onBusy(!0),f.ajax({url:"https://xftg4an765.execute-api.us-east-2.amazonaws.com/test/approved",method:"POST",data:t,processData:!1}).then((function(t){console.log(t);var a=t&&t.response&&t.response.applicant;a=a||{},e.setState({bioResult:a.approved,bioMessage:a.message||""},(function(){e.updateResults(),e.props.onBusy&&e.props.onBusy(!1)}))})).catch((function(t){console.log(t),e.setState({bioResult:"",bioMessage:""},(function(){e.updateResults(),e.props.onBusy&&e.props.onBusy(!1)}))}))}},{key:"scanQRPass",value:function(){var e=this;window.QRScanner&&(window.QRScanner.scan((function(t,a){t?("SCAN_CANCELED"!==t.name&&e.props.onError(t._message),e.updateResults()):e.setState({qrData:j.qrDataToJSON(a)},(function(){e.validateQRPass()})),e.cancelScan()})),window.QRScanner.show()),this.setState({scanning:!0})}},{key:"cancelScan",value:function(){window.QRScanner?(window.QRScanner.cancelScan(),window.QRScanner.hide(),this.setState({scanning:!1})):this.setState({scanning:!1})}},{key:"validateQRPass",value:function(){var e=this;this.setState({qrResult:"approved"},(function(){e.updateResults()}))}},{key:"updateResults",value:function(){!0===this.state.bioResult&&"approved"===this.state.qrResult?this.setState({result:"granted",resultMsg:"Access Granted"}):!1===this.state.bioResult||"rejected"===this.state.qrResult?this.setState({result:"denied",resultMsg:"Access Denied"}):this.setState({result:"",resultMsg:"Access Pending"})}},{key:"handleTempChange",value:function(e){var t=(e*this.tempRange+this.minTemp).toFixed(1);this.setState({temp:t})}},{key:"handleSpo2Change",value:function(e){var t=Math.round(e*this.spo2Range+this.minSpo2);this.setState({spo2:t})}}]),a}(n.Component)),T=(a(26),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={scanning:!1},n.scanLocation=n.scanLocation.bind(Object(l.a)(n)),n.cancelScan=n.cancelScan.bind(Object(l.a)(n)),n.startGateKeeping=n.startGateKeeping.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=!!this.props.facility;return this.state.scanning?s.a.createElement(w,{instructions:"Please scan the Visitor Form QR code.",onCancel:this.cancelScan}):e?s.a.createElement("div",{className:"kd-setup app-page app-triangle"},s.a.createElement("div",{className:"s-instructions s-top"},"Facility location set to"),s.a.createElement("h1",null,this.props.facility),s.a.createElement("div",{className:"kd-buttons"},s.a.createElement(O,{value:"Change Facility",onClick:this.scanLocation}),s.a.createElement(O,{className:"primary",value:"Start Gatekeeping",onClick:this.startGateKeeping}))):s.a.createElement("div",{className:"kd-setup app-page app-triangle"},s.a.createElement("h1",null,"Facility Setup"),s.a.createElement("div",{className:"s-instructions"},"Please scan the Visitor Form QR Code for the facility that you will be gatekeeping."),s.a.createElement("div",{className:"kd-buttons"},s.a.createElement(O,{className:"primary",value:"Start Scanner",onClick:this.scanLocation})))}},{key:"scanLocation",value:function(){var e=this;window.QRScanner&&(window.QRScanner.scan((function(t,a){if(t)"SCAN_CANCELED"!==t.name&&e.props.onError(t._message);else{var n=j.qrDataToJSON(a),s=n.Location||n["Base Location"]||"";e.props.onLocationChange(s)}e.cancelScan()})),window.QRScanner.show()),this.setState({scanning:!0})}},{key:"cancelScan",value:function(){window.QRScanner?(window.QRScanner.cancelScan(),window.QRScanner.hide(),this.setState({scanning:!1})):this.setState({scanning:!1})}},{key:"startGateKeeping",value:function(){this.cancelScan(),this.props.onGatekeep&&this.props.onGatekeep()}}]),a}(n.Component)),x=(a(27),a(28),a(29),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),window.QRScanner&&window.QRScanner.prepare((function(e,t){!e&&t.authorized||n.handleError("This app cannot function properly without using the device camera. Please restart the app and grant camera permission when prompted.")})),n.state={page:"setup",facility:localStorage.getItem("ac-facility")||"",toasts:[],busy:!1},n.openSettings=n.openSettings.bind(Object(l.a)(n)),n.setLocation=n.setLocation.bind(Object(l.a)(n)),n.handleError=n.handleError.bind(Object(l.a)(n)),n.openGateKeeping=n.openGateKeeping.bind(Object(l.a)(n)),n.handleBusy=n.handleBusy.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement(N,{busy:this.state.busy,onOpenSettings:this.openSettings,active:"setup"===this.state.page}),"setup"===this.state.page&&s.a.createElement(T,{facility:this.state.facility,onLocationChange:this.setLocation,onError:this.handleError,onGatekeep:this.openGateKeeping}),"gatekeeping"===this.state.page&&s.a.createElement(M,{onError:this.handleError,onBusy:this.handleBusy}),s.a.createElement(b,{toasts:this.state.toasts,position:"top"}),this.state.busy>0&&s.a.createElement("div",{className:"app-shim"}))}},{key:"openGateKeeping",value:function(){this.setState({page:"gatekeeping"})}},{key:"openSettings",value:function(){window.QRScanner&&window.QRScanner.cancelScan(),this.setState({page:"setup"})}},{key:"setLocation",value:function(e){e&&(localStorage.setItem("ac-facility",e),this.setState({facility:e}))}},{key:"handleError",value:function(e){this.setState({toasts:[{content:s.a.createElement("div",null,e),className:"tb-error"}]})}},{key:"handleBusy",value:function(e){e?this.setState({busy:this.state.busy+1}):this.setState({busy:this.state.busy-1})}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(){r.a.render(s.a.createElement(x,null),document.getElementById("root"))}window.cordova?document.addEventListener("deviceready",D,!1):D(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);